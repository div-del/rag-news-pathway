<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live AI News | Real-time Intelligent News</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/static/styles.css">
</head>

<body>
    <div class="app">
        <!-- Animated Background -->
        <div class="bg-effects">
            <div class="gradient-orb orb-1"></div>
            <div class="gradient-orb orb-2"></div>
            <div class="gradient-orb orb-3"></div>
        </div>

        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                            <rect width="32" height="32" rx="8" fill="url(#logo-gradient)" />
                            <path d="M8 10h16M8 16h12M8 22h8" stroke="white" stroke-width="2" stroke-linecap="round" />
                            <circle cx="24" cy="22" r="4" fill="white" opacity="0.9" />
                            <defs>
                                <linearGradient id="logo-gradient" x1="0" y1="0" x2="32" y2="32">
                                    <stop stop-color="#6366f1" />
                                    <stop offset="1" stop-color="#8b5cf6" />
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                    <div class="logo-text">
                        <span class="logo-name">Live AI News</span>
                        <span class="logo-tagline">Powered by Pathway</span>
                    </div>
                    <div class="live-indicator">
                        <span class="pulse"></span>
                        <span>LIVE</span>
                    </div>
                </div>

                <nav class="nav">
                    <button class="nav-btn active" data-section="feed">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <rect x="3" y="3" width="7" height="7" rx="1" />
                            <rect x="14" y="3" width="7" height="7" rx="1" />
                            <rect x="3" y="14" width="7" height="7" rx="1" />
                            <rect x="14" y="14" width="7" height="7" rx="1" />
                        </svg>
                        <span>Feed</span>
                    </button>
                    <button class="nav-btn" data-section="chat">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                        </svg>
                        <span>AI Chat</span>
                    </button>
                    <button class="nav-btn" data-section="compare">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <line x1="18" y1="20" x2="18" y2="10" />
                            <line x1="12" y1="20" x2="12" y2="4" />
                            <line x1="6" y1="20" x2="6" y2="14" />
                        </svg>
                        <span>Compare</span>
                    </button>
                </nav>

                <div class="header-actions">
                    <button id="fetch-news-btn" class="btn-primary">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <polyline points="23 4 23 10 17 10" />
                            <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10" />
                        </svg>
                        <span>Fetch News</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- News Feed Section -->
            <section id="feed-section" class="section active">
                <div class="section-header">
                    <div class="section-title">
                        <h1>Your Personalized Feed</h1>
                        <p>Real-time news powered by adaptive RAG</p>
                    </div>
                    <div class="section-actions">
                        <div class="search-box">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="11" cy="11" r="8" />
                                <line x1="21" y1="21" x2="16.65" y2="16.65" />
                            </svg>
                            <input type="text" id="search-input" placeholder="Search articles...">
                        </div>
                        <select id="category-filter" class="filter-select">
                            <option value="">All Categories</option>
                            <option value="Technology">Technology</option>
                            <option value="Finance">Finance</option>
                            <option value="Science">Science</option>
                            <option value="Business">Business</option>
                            <option value="Health">Health</option>
                        </select>
                    </div>
                </div>

                <div id="news-feed" class="news-grid">
                    <div class="empty-state">
                        <div class="empty-icon">üì∞</div>
                        <h3>No articles yet</h3>
                        <p>Click "Fetch News" to load the latest articles</p>
                    </div>
                </div>
            </section>

            <!-- Chat Section -->
            <section id="chat-section" class="section">
                <div class="chat-layout">
                    <div class="chat-main">
                        <div class="chat-header-bar">
                            <div class="chat-title">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <circle cx="12" cy="12" r="10" />
                                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                                    <line x1="12" y1="17" x2="12.01" y2="17" />
                                </svg>
                                <div>
                                    <h2>Ask AI About News</h2>
                                    <span>Get insights from all indexed articles</span>
                                </div>
                            </div>
                            <div class="chat-stats">
                                <span id="indexed-count">0 articles indexed</span>
                            </div>
                        </div>

                        <div id="chat-messages" class="chat-messages">
                            <div class="message assistant">
                                <div class="message-avatar">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                        <path
                                            d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z" />
                                        <circle cx="12" cy="12" r="3" />
                                    </svg>
                                </div>
                                <div class="message-content">
                                    <p>Hello! I'm your AI news analyst. I can answer questions about the latest news
                                        articles. Try asking about technology, science, business, or any current topic!
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="chat-input-area">
                            <div class="chat-input-wrapper">
                                <input type="text" id="chat-input" placeholder="Ask anything about current news...">
                                <button id="send-chat-btn" class="send-btn">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <line x1="22" y1="2" x2="11" y2="13" />
                                        <polygon points="22 2 15 22 11 13 2 9 22 2" />
                                    </svg>
                                </button>
                            </div>
                            <div class="chat-hints">
                                <span class="hint" onclick="setQuery('What is the latest in technology?')">Latest in
                                    tech</span>
                                <span class="hint" onclick="setQuery('Summarize today\\'s business news')">Business
                                    summary</span>
                                <span class="hint" onclick="setQuery('Any news about AI?')">AI news</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Compare Section -->
            <section id="compare-section" class="section">
                <div class="compare-layout">
                    <div class="compare-header">
                        <h1>Compare Articles</h1>
                        <p>Select two articles for AI-powered comparative analysis</p>
                    </div>

                    <div class="compare-selector">
                        <div class="compare-card">
                            <div class="compare-card-header">
                                <span class="compare-label">Article 1</span>
                            </div>
                            <select id="compare-select-1" class="compare-select">
                                <option value="">Select an article...</option>
                            </select>
                            <div id="compare-preview-1" class="compare-preview"></div>
                        </div>

                        <div class="compare-divider">
                            <div class="vs-badge">VS</div>
                        </div>

                        <div class="compare-card">
                            <div class="compare-card-header">
                                <span class="compare-label">Article 2</span>
                            </div>
                            <select id="compare-select-2" class="compare-select">
                                <option value="">Select an article...</option>
                            </select>
                            <div id="compare-preview-2" class="compare-preview"></div>
                        </div>
                    </div>

                    <div class="compare-action">
                        <input type="text" id="compare-query" class="compare-input"
                            placeholder="What would you like to compare? (e.g., Compare their impact on the market)">
                        <button id="compare-btn" class="btn-primary btn-large">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="10" />
                                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                            </svg>
                            <span>Analyze & Compare</span>
                        </button>
                    </div>

                    <div id="compare-result" class="compare-result"></div>
                </div>
            </section>
        </main>

        <!-- Article Modal -->
        <div id="article-modal" class="modal">
            <div class="modal-backdrop" onclick="closeModal()"></div>
            <div class="modal-container">
                <button class="modal-close" onclick="closeModal()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
                <div id="modal-article-content" class="modal-article"></div>
                <div class="modal-chat">
                    <h3>üí¨ Chat about this article</h3>
                    <div id="article-chat-messages" class="article-chat-messages"></div>
                    <div class="article-chat-input">
                        <input type="text" id="article-chat-input" placeholder="Ask about this article...">
                        <button id="send-article-chat-btn" class="send-btn">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <line x1="22" y1="2" x2="11" y2="13" />
                                <polygon points="22 2 15 22 11 13 2 9 22 2" />
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- YouTube Video Analysis Section -->
                <div class="youtube-section">
                    <div class="youtube-header">
                        <h3>üé¨ YouTube Video Analysis</h3>
                        <button id="fetch-youtube-btn" class="btn-secondary" onclick="fetchYouTubeVideos()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <polygon points="23 7 16 12 23 17 23 7" />
                                <rect x="1" y="5" width="15" height="14" rx="2" ry="2" />
                            </svg>
                            <span>Find Related Videos</span>
                        </button>
                    </div>

                    <div id="youtube-videos-list" class="youtube-videos-list" style="display: none;">
                        <!-- Video options will be populated here -->
                    </div>

                    <div id="youtube-analysis-loading" class="youtube-loading" style="display: none;">
                        <div class="loading-spinner"></div>
                        <p>Downloading audio, transcribing with Whisper, and analyzing...</p>
                        <span class="loading-hint">This may take 1-3 minutes depending on video length</span>
                    </div>

                    <div id="youtube-analysis-result" class="youtube-analysis-result" style="display: none;">
                        <div class="analysis-header">
                            <h4>üìä Video Analysis</h4>
                            <span id="video-sentiment" class="sentiment-badge"></span>
                        </div>
                        <div id="video-key-points" class="key-points"></div>
                        <div id="video-analysis-text" class="analysis-text"></div>
                        <details class="transcript-details">
                            <summary>üìù View Full Transcript</summary>
                            <div id="video-transcript" class="transcript-content"></div>
                        </details>
                    </div>
                </div>

                <div id="comparison-suggestion" class="comparison-suggestion"></div>
            </div>
        </div>

        <!-- Status Bar -->
        <footer class="status-bar">
            <div class="status-left">
                <div class="status-indicator">
                    <span class="status-dot" id="status-dot"></span>
                    <span id="connection-status">Connecting...</span>
                </div>
            </div>
            <div class="status-center">
                <span id="article-count">0 articles</span>
                <span class="divider">‚Ä¢</span>
                <span id="last-update">Ready</span>
            </div>
            <div class="status-right">
                <span>DataQuest 2026 ‚Ä¢ Pathway Framework</span>
            </div>
        </footer>
    </div>

    <script src="/static/app.js"></script>
</body>

</html>